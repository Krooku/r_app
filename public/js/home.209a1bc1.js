(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["home"],{"1d0d":function(t,e,n){},"3daa":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Camera"),t._m(0),t.cars?n("car-list",{attrs:{cars:t.cars}}):t._e()],1)},i=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flex_box radio_box"},[n("span",{staticClass:"option option--active"},[t._v(" Wszystkie ")]),n("span",{staticClass:"option"},[t._v(" Wolne ")]),n("span",{staticClass:"option"},[t._v(" WynajÄ™te ")])])}],r=n("a34a"),s=n.n(r),o=n("d722"),c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flex_box tiles"},t._l(t.cars,(function(t){return n("car-tile",{key:t._id,attrs:{car:t}})})),1)},u=[],l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tile"},[n("p",[t._v(" "+t._s(t.car.number)+" ")]),n("p",[t._v(" "+t._s(t.car.model)+" "+t._s(t.car.brand))])])},d=[],h={props:{car:{type:Object,required:!0}},mounted:function(){var t=document.body;t.classList.add("modal-open")},methods:{closeModal:function(){this.$emit("close");var t=document.body;t.classList.remove("modal-open")}}},v=h,f=n("2877"),m=Object(f["a"])(v,l,d,!1,null,"7bef925f",null),p=m.exports,g={components:{CarTile:p},props:{cars:{type:Array,required:!0}},mounted:function(){var t=document.body;t.classList.add("modal-open")},methods:{closeModal:function(){this.$emit("close");var t=document.body;t.classList.remove("modal-open")}}},b=g,y=(n("c49b"),Object(f["a"])(b,c,u,!1,null,"2bef5586",null)),_=y.exports,w=n("50cf");function x(t,e,n,a,i,r,s){try{var o=t[r](s),c=o.value}catch(u){return void n(u)}o.done?e(c):Promise.resolve(c).then(a,i)}function C(t){return function(){var e=this,n=arguments;return new Promise((function(a,i){var r=t.apply(e,n);function s(t){x(r,a,i,s,o,"next",t)}function o(t){x(r,a,i,s,o,"throw",t)}s(void 0)}))}}var E={name:"Homepage",components:{CarList:_,Camera:w["a"]},data:function(){return{error:null,cars:null}},beforeRouteEnter:function(){var t=C(s.a.mark((function t(e,n,a){var i;return s.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,o["a"].listCars();case 2:if(i=t.sent,200===i.status){t.next=5;break}return t.abrupt("return",this.error=i.data.message);case 5:a((function(t){t.cars=i.data})),a();case 7:case"end":return t.stop()}}),t,this)})));function e(e,n,a){return t.apply(this,arguments)}return e}(),computed:{},mounted:function(){var t=C(s.a.mark((function t(){return s.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}(),methods:{}},k=E,$=(n("fc54"),Object(f["a"])(k,a,i,!1,null,null,null));e["default"]=$.exports},"50cf":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"camera"},[n("video",{staticClass:"feed",attrs:{autoplay:"",playsinline:""}}),n("button",{attrs:{id:"snap"},on:{click:t.takepicture}},[t._v(" SNAP ")]),n("canvas",{attrs:{id:"canvas"}}),t._m(0)])},i=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"output"},[n("img",{attrs:{id:"photo",alt:"The screen capture will appear in this box."}})])}],r={name:"Camera",data:function(){return{front:!1,videoPlayer:null,canvas:null,photo:null,snapBtn:null,width:320,height:320,streaming:!1}},beforeMount:function(){this.videoPlayer=document.querySelector("video"),this.canvas=document.getElementById("canvas"),this.photo=document.getElementById("photo"),this.startbutton=document.getElementById("snap"),this.init()},created:function(){},methods:{init:function(){if("mediaDevices"in navigator&&"getUserMedia"in navigator.mediaDevices){navigator.mediaDevices.getUserMedia({video:{facingMode:this.front?"user":"environment"}}).then((function(t){var e=document.querySelector("video");e.srcObject=t,e.play()}));var t=document.querySelector("video");t.addEventListener("canplay",(function(e){if(!this.streaming){var n=document.getElementById("canvas");this.height=t.videoHeight/(t.videoWidth/this.width),t.setAttribute("width",this.width),t.setAttribute("height",this.height),n.setAttribute("width",this.width),n.setAttribute("height",this.height),this.streaming=!0}}),!1)}else alert("cannot get Media Devices")},takepicture:function(){alert("pstryk fotka");var t=document.getElementById("canvas"),e=t.getContext("2d");if(this.width&&this.height){t.width=this.width,t.height=this.height;var n=document.querySelector("video");e.drawImage(n,0,0,this.width,this.height);var a=this.canvas.toDataURL("image/png"),i=document.getElementById("photo");i.setAttribute("src",a)}else alert("clearphoto")}}},s=r,o=(n("e902"),n("2877")),c=Object(o["a"])(s,a,i,!1,null,null,null);e["a"]=c.exports},"652c":function(t,e,n){},"6f61":function(t,e,n){},c49b:function(t,e,n){"use strict";var a=n("1d0d"),i=n.n(a);i.a},e902:function(t,e,n){"use strict";var a=n("652c"),i=n.n(a);i.a},fc54:function(t,e,n){"use strict";var a=n("6f61"),i=n.n(a);i.a}}]);